---
title: LeetCode136只出现一次的数字
copyright: true
date: 2019-02-12 16:02:27
tags: [LeetCode,算法,位运算,哈希表]
categories: 
- LeetCode
- easy
top:
---
####  题目描述：
在一个数组里除了一个元素，其它元素都出现了两次，找出只出现一次的元素,要求算法时间复杂度为O(n),空间复杂度为O(1)。

---
#### 参考答案：

```java
 public int search (int[]arr){
        int i =0;
        for (int num : arr) {
            i ^=num;
        }
        return i;
    }       
```

>^为异或符号，在二进制下，相同为0，不同为1。

---
#### 进阶题目：

如果有两个只出现一次的元素，该如何解答？要求时间复杂度为O(n),且再开辟的内存空间固定（与n无关）。
<!--more-->

---
#### 思考：

假设一个数组` int arr[] = {23, 23, 45, 45, 87, 87, 56, 56, 47, 65, 65, 34};`。

**目标元素：**

47:`0010 1111`，记为num1。

34:`0010 0010`，记为num2。

按照上一个题目，得出的结果是：

13:`0000 1101`，记为sum。

根据题目描述，两个元素num1和num2必不相等。

根据异或的运算规则，sum结果中位为1的对应num1和num2中位必不相同，如`0010 1111^0010 0010=0000 1101`。

其它元素二进制分别为：

23:`‭0001 0111`。
45:`‭0010 1101‬`。
87:`‭0101 0111‬`。
56:`‭0011 1000‬`。
65:`‭0100 0001‬`。

对于sum结果`0000 1101`，取第5位，为1，可知这一位上num1和num2是不同的。

因此，将所有第5位为1的数异或，可得第一个数，同理得到第二个数。

```java
int num1=45^45^56^56^47       //47
int num2=23^23^87^87^65^65^34 //34
```

---
#### 代码实现：
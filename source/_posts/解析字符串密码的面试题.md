---
title: 解析字符串密码的面试题
copyright: true
date: 2019-02-14 20:22:23
tags: 算法
categories: 算法
top:
---
#### 题目描述：

请解读下如下代码并写出完整代码用于解析出加密前的正确字符串（提示：encoded中有且仅有一个@字符）：

```go
package main

func main() {
   var encoded = []int{3, 47, 46, 39, 50, 33, 52, 53, 44, 33, 52, 41, 47, 46, 51, -31, -32, 25, 47, 53, -32, 40, 33, 54, 37, -32, 48, 33, 51, 51, 37, 36, -32, 52, 40, 37, -32, 38, 41, 50, 51, 52, -32, 37, 56, 33, 45, -31, -32, -14, -16, -15, -7, 0, 44, 37, 34, 33, 41, -18, 44, 52, 36}
   // TODO: Please find the right string which was encoded as showing above
}
```
<!--more-->

---
#### 思考：

**1. 面试解：**

看到数字解析字符串，很容易联想到ASCII编码表。这里由于要解析出有意义的字母，因此大部分数字要在32-126之间才有意义，这里的数字最小是-32，最大是56，因此加的数字要在64-70之间。因为有且只有一个@字符，这里很容易就注意到只有一个0，0加上64就是@字符，其它负数加上这些数字都无法凑出64，因此加上64是正解。这里有很多-32穿插在里面，也很容易联想到32号的字符空格。

最终结果是：

```java
int arr[] = {3, 47, 46, 39, 50, 33, 52, 53, 44, 33, 52, 41, 47, 46, 51, -31, -32, 25, 47, 53, -32, 40, 33, 54, 37, -32, 48, 33, 51, 51, 37, 36, -32, 52, 40, 37, -32, 38, 41, 50, 51, 52, -32, 37, 56, 33, 45, -31, -32, -14, -16, -15, -7, 0, 44, 37, 34, 33, 41, -18, 44, 52, 36};
        for (int i = 0; i < arr.length; i++) {
            arr[i] += 64;
            System.out.print((char) arr[i]);
        }
//Congratulations! You have passed the first exam! 2019@lebai.ltd

```

**2. 暴力遍历：**

如果要用暴力解法，也可以全部遍历，直到找出有意义的字符串。
将数组里所有数字加上一个大于等于32的数字（char>0），遍历数组，找出字符`@`有且仅有一个的情况，遍历打印即可。

---
#### 代码：

```java
public static void main(String[] args) {
        int arr[] = {3, 47, 46, 39, 50, 33, 52, 53, 44, 33, 52, 41, 47, 46, 51, -31, -32, 25, 47, 53, -32, 40, 33, 54, 37, -32, 48, 33, 51, 51, 37, 36, -32, 52, 40, 37, -32, 38, 41, 50, 51, 52, -32, 37, 56, 33, 45, -31, -32, -14, -16, -15, -7, 0, 44, 37, 34, 33, 41, -18, 44, 52, 36};
        for (int j = 32; j < 200; j++) {
            int numsOfAite = 0;
            for (int i = 0; i < arr.length; i++) {
                if (arr[i] + j == 64) {
                    numsOfAite++;
                }
            }
            if (numsOfAite == 1) {
                System.out.println("j=" + j + ":");
                for (int i = 0; i < arr.length; i++) {
                    System.out.print((char) (arr[i] + j));
                }
                System.out.println();
            }
        }
    }
```

**运行结果：**

```
Congratulations! You have passed the first exam! 2019@lebai.ltd
```

---
#### 思考：
1. ASCII有意义的解在32-126之间，32是‘ ’，64是‘@’，65是A‘’，97是‘a’，122是‘z’。
2. 面试都是扯淡，明明看一眼ASCII的事偏要你背下来。
3. 有时候直接写遍历不一定是最优解，有可能直接分析出来。